---
import "../styles/variables.css";
import SocialFooter from "./SocialFooter.astro";

const { withBorder } = Astro.props;
---

<footer class="s-footer">
  <div class:list={["row", withBorder && "border"]}>
    <div class="column large-4 medium-6 w-1000-stack s-footer__social-block">
      <SocialFooter />
    </div>

    <div class="column large-7 medium-6 w-1000-stack ss-copyright">
      <span>Copyright © 2023, 2024 Jesus Cano</span>
      <span
        >Design by <a href="https://www.styleshout.com/" target="”_blank”"
          >StyleShout</a
        ></span
      >
      <span style="flex "
        >Built with <a href="https://astro.build/" target="”_blank”"> Astro</a>
      </span>
      <span style="flex "
        >Hosted on <a
          href="https://github.com/jpcano/jpcano.github.io/"
          target="”_blank”"
        >
          Github</a
        >
      </span>
    </div>
  </div>

  <div class="ss-go-top">
    <a
      class="smoothscroll"
      title="Back to Top"
      href="#top"
      aria-label="Go to top"
    >
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path d="M6 4h12v2H6zm5 10v6h2v-6h5l-6-6-6 6z"></path>
      </svg>
    </a>
  </div>
  <!-- end ss-go-top -->
</footer>

<script>
  const pxShow = 900;
  const goTopButton = document.querySelector(".ss-go-top");

  if (goTopButton) {
    // Show or hide the button
    if (window.scrollY >= pxShow) goTopButton.classList.add("link-is-visible");

    window.addEventListener("scroll", function () {
      if (window.scrollY >= pxShow) {
        if (!goTopButton.classList.contains("link-is-visible"))
          goTopButton.classList.add("link-is-visible");
      } else {
        goTopButton.classList.remove("link-is-visible");
      }
    });
  }
</script>

<style>
  .s-footer {
    background-color: var(--color-gray-18);
    padding-top: var(--vspace-1);
    padding-bottom: var(--vspace-3);
    color: rgba(255, 255, 255, 0.2);
    position: relative;
  }

  .s-footer .row {
    padding-top: var(--vspace-1);
  }
  .border {
    border-top: 1px solid rgba(255, 255, 255, 0.03);
  }

  .s-footer a {
    color: white;
  }

  .s-footer a:hover,
  .s-footer a:focus {
    color: var(--color-2);
  }

  /* ------------------------------------------------------------------- 
   * ## copyright
   * ------------------------------------------------------------------- */
  .ss-copyright {
    z-index: 2;
    -ms-flex-order: -1;
    -webkit-box-ordinal-group: 0;
    order: -1;
    margin-right: auto;
    position: relative;
  }

  .ss-copyright span {
    font-size: var(--text-sm);
    display: inline-block;
  }

  .ss-copyright span::after {
    content: "|";
    display: inline-block;
    padding: 0 0.8rem 0 1rem;
    color: rgba(255, 255, 255, 0.1);
  }

  .ss-copyright span:last-child::after {
    display: none;
  }

  /* ------------------------------------------------------------------- 
   * ## go top
   * ------------------------------------------------------------------- */
  .ss-go-top {
    z-index: 2;
    opacity: 0;
    visibility: hidden;
    -webkit-transform: translate(0, 200%);
    transform: translate(0, 200%);
    -webkit-transition: all 0.5s cubic-bezier(0.215, 0.61, 0.355, 1);
    transition: all 0.5s cubic-bezier(0.215, 0.61, 0.355, 1);
    position: fixed;
    /* bottom: 8rem;
    right: 6.4rem; */
    bottom: 7rem;
    left: 6.4rem;
  }

  .ss-go-top a {
    display: -ms-flexbox;
    display: -webkit-box;
    display: flex;
    -ms-flex-align: center;
    -webkit-box-align: center;
    align-items: center;
    -ms-flex-pack: center;
    -webkit-box-pack: center;
    justify-content: center;
    text-decoration: none;
    border: 0 none;
    height: 6.4rem;
    width: 6.4rem;
    border-radius: 50%;
    background-color: #050505;
    -webkit-transition: all 0.3s;
    transition: all 0.3s;
    position: relative;
  }

  .ss-go-top a:hover,
  .ss-go-top a:focus {
    background-color: var(--color-1);
  }

  .ss-go-top svg {
    height: 2.4rem;
    width: 2.4rem;
  }

  .ss-go-top svg path {
    fill: white;
  }

  .ss-go-top.link-is-visible {
    opacity: 1;
    visibility: visible;
    -webkit-transform: translate(0, 0);
    transform: translate(0, 0);
  }

  /* ------------------------------------------------------------------- 
   * responsive:
   * footer
   * ------------------------------------------------------------------- */
  @media screen and (max-width: 1200px) {
    .s-footer {
      padding-bottom: var(--vspace-2_5);
    }
    .ss-go-top {
      bottom: 4rem;
      right: 3.2rem;
    }
    .ss-go-top a {
      height: 6rem;
      width: 6rem;
    }
  }

  @media screen and (max-width: 1000px) {
    .s-footer {
      padding-bottom: var(--vspace-2);
    }
    .ss-copyright {
      -ms-flex-order: 0;
      -webkit-box-ordinal-group: 1;
      order: 0;
    }
  }

  @media screen and (max-width: 800px) {
    .ss-go-top a {
      height: 5.2rem;
      width: 5.2rem;
    }
    .ss-go-top svg {
      height: 2rem;
      width: 2rem;
    }
  }

  @media screen and (max-width: 600px) {
    .ss-copyright span {
      display: block;
    }
    .ss-copyright span::after {
      display: none;
    }
    .ss-go-top {
      right: 2.4rem;
    }
  }
</style>
